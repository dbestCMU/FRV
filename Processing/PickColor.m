function [ Color ] = PickColor( ZScore, Type )
%PickColor: Takes the Zscore of the current frame and returns the rgb bit
%           values we determine to that value range.

%The list of rgb colors for each Zscore range from -3 to 3 for each of the
%domains 
Bass = [ ...
    0,0,8;...
    0,1,2;...
    6,7,8;...
    1,1,6;...
    9,0,7;...
    0,6,1;...
    0,1,8;...
    6,7,8;...
    0,7,1;...
    0,8,1;...
    9,0,7;...
    0,8,1;...
    0,4,3;...
    0,7,9;...
    0,4,3;...
    0,8,1;...
    9,0,7;...
    0,8,1;...
    0,7,1;...
    6,7,8;...
    0,6,1;...
    9,0,7;...
    1,1,6;...
    6,7,8;...
    0,1,2;...
    0,0,8;...
    ];

Mid = [ ...
    1,9,6;...
    6,6,6;...
    3,2,4;...
    0,2,5;...
    0,0,8;...
    6,3,1;...
    6,6,6;...
    1,9,6;...
    7,4,0;...
    0,5,2;...
    0,0,8;...
    6,3,1;...
    3,2,5;...
    6,3,1;...
    0,0,8;...
    0,5,2;...
    7,4,0;...
    1,9,6;...
    6,6,6;...
    6,3,1;...
    0,0,8;...
    0,2,5;...
    3,2,4;...
    6,6,6;...
    7,4,0;...
    1,9,6;...
    ];

High = [ ...
    6,7,8;...
    7,0,0;...
    6,7,8;...
    0,1,8;...
    7,1,0;...
    9,7,0;...
    7,1,0;...
    7,7,1;...
    9,7,0;...
    8,0,0;...
    7,1,0;...
    0,1,8;...
    7,1,0;...
    7,0,0;...
    0,7,9;...
    8,0,0;...
    9,7,0;...
    7,7,1;...
    7,1,0;...
    9,7,3;...
    7,1,0;...
    0,1,8;...
    6,7,8;...
    7,0,0;...
    6,7,8;...
    6,7,8;...
    ];

%Index is a way to match Zscore value from -3 to 3 by shifting by +3 and
%dividing by .24 to align -3 to the first element and +3 to the last
Index = round((ZScore+3)/.24);

%Apply corrections to numbers lower than -3 and higher than +3 ZScore
if (Index < 1)
    Index = 1;
end

if (Index > length(Bass))
    Index = length(Bass);
end

%Based on the Type pick the proper color
if (Type == 1)
    Color = Bass(Index,:);
    return
else
    if (Type == 2)
        Color = Mid(Index,:);
        return
    else
        Color = High(Index,:);
        return
    end
end

end

